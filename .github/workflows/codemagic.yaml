workflows:
  android-build:
    name: Android Debug & Release Build
    max_build_duration: 60
    triggers:
      - push
      - pull_request

    environment:
      vars:
        # Agar tumhare pass keystore hai to yahan vars add kar sakte ho
        # ANDROID_KEYSTORE: Encrypted(...)
        # ANDROID_KEYSTORE_PASSWORD: Encrypted(...)
        # ANDROID_KEY_PASSWORD: Encrypted(...)
        # ANDROID_KEY_ALIAS: Encrypted(...)

    android:
      # Agar specific API/SDK version chahiye to set kar sakte ho
      build_tools_version: "33.0.2"
      compile_sdk: "33"
      target_sdk: "33"

    scripts:
      - name: Setup JDK
        script: |
          echo "Setting up JDK"
      - name: Get dependencies
        script: |
          ./gradlew clean
          ./gradlew assembleDebug
      # Agar release bhi banana hai to uncomment karo:
      # - name: Build Release
      #   script: |
      #     ./gradlew assembleRelease

    artifacts:
      - build/outputs/**/*.apk